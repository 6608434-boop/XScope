#!/usr/bin/env python
# -*- coding: utf-8 -*-

"""
================================================================================
–§–ê–ô–õ: routes/__init__.py
–ù–ê–ó–ù–ê–ß–ï–ù–ò–ï: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
–ê–í–¢–û–†: Oliver Vance
–î–ê–¢–ê: 2026-02-14

–û–ü–ò–°–ê–ù–ò–ï:
    –°–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ blueprint'—ã –∏–∑ –ø–æ–¥–ø–∞–ø–æ–∫ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∏—Ö –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

–ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï:
    from routes import register_blueprints
    register_blueprints(app)

–ò–°–¢–û–†–ò–Ø –ò–ó–ú–ï–ù–ï–ù–ò–ô:
    2026-02-14 - Oliver - —Å–æ–∑–¥–∞–Ω–∏–µ
================================================================================
"""

import logging
from flask import Flask

from routes.main import main_bp
from routes.auth import auth_bp
from routes.chat import chat_bp
from routes.api import api_bp
from routes.analyze import analyze_bp

logger = logging.getLogger(__name__)


def register_blueprints(app: Flask) -> None:
    """
    –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –≤—Å–µ blueprint'—ã –≤ Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

    Args:
        app: Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    """
    logger.info("üîå –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤...")

    # –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º blueprint'—ã
    app.register_blueprint(main_bp)  # –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞)
    app.register_blueprint(auth_bp)   # /auth/*
    app.register_blueprint(chat_bp)   # /chat/*
    app.register_blueprint(api_bp)    # /api/*
    app.register_blueprint(analyze_bp) # /analyze/*

    logger.info(f"‚úÖ –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ 5 blueprint'–æ–≤:")
    logger.info(f"   - main:   /")
    logger.info(f"   - auth:   /auth")
    logger.info(f"   - chat:   /chat")
    logger.info(f"   - api:    /api")
    logger.info(f"   - analyze: /analyze")


def get_blueprints_info() -> list:
    """
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—Å–µ—Ö –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö blueprint'–∞—Ö.

    Returns:
        list: –°–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ blueprint'–∞—Ö
    """
    return [
        {'name': 'main', 'prefix': '/', 'description': '–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞'},
        {'name': 'auth', 'prefix': '/auth', 'description': '–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è'},
        {'name': 'chat', 'prefix': '/chat', 'description': '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–∞—Ç–∞–º–∏'},
        {'name': 'api', 'prefix': '/api', 'description': 'JSON API'},
        {'name': 'analyze', 'prefix': '/analyze', 'description': 'AI –æ–±—Ä–∞–±–æ—Ç–∫–∞'},
    ]
# ğŸ“ ĞŸĞĞŸĞšĞ: services/

## ğŸ“Œ ĞĞĞ—ĞĞĞ§Ğ•ĞĞ˜Ğ•
Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ. ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ ÑĞµÑ€Ğ²Ğ¸Ñ Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚ Ğ·Ğ° Ğ¾Ğ´Ğ½Ñƒ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ñ.

## ğŸ“‹ Ğ¡Ğ¢Ğ Ğ£ĞšĞ¢Ğ£Ğ Ğ

    ğŸ“ services/
    â”‚
    â”œâ”€â”€ ğŸ“„ __init__.py           # Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ÑĞ±Ğ¾Ñ€Ñ‰Ğ¸Ğº Ğ²ÑĞµÑ… ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²
    â”‚
    â”œâ”€â”€ ğŸ“ chat/                 # Ğ¡ĞµÑ€Ğ²Ğ¸ÑÑ‹ Ğ´Ğ»Ñ Ñ‡Ğ°Ñ‚Ğ¾Ğ²
    â”‚   â”œâ”€â”€ ğŸ“„ __init__.py
    â”‚   â”œâ”€â”€ ğŸ“„ get_list.py       # ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ÑĞ¿Ğ¸ÑĞºĞ° Ñ‡Ğ°Ñ‚Ğ¾Ğ²
    â”‚   â”œâ”€â”€ ğŸ“„ create.py         # Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ñ‡Ğ°Ñ‚Ğ°
    â”‚   â”œâ”€â”€ ğŸ“„ rename.py         # ĞŸĞµÑ€ĞµĞ¸Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
    â”‚   â”œâ”€â”€ ğŸ“„ delete.py         # Ğ£Ğ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ
    â”‚   â”œâ”€â”€ ğŸ“„ load.py           # Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ñ‡Ğ°Ñ‚Ğ°
    â”‚   â””â”€â”€ ğŸ“„ validate_owner.py # ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ²Ğ»Ğ°Ğ´ĞµĞ»ÑŒÑ†Ğ°
    â”‚
    â”œâ”€â”€ ğŸ“ message/               # Ğ¡ĞµÑ€Ğ²Ğ¸ÑÑ‹ Ğ´Ğ»Ñ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹
    â”‚   â”œâ”€â”€ ğŸ“„ __init__.py
    â”‚   â”œâ”€â”€ ğŸ“„ send.py            # ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ
    â”‚   â””â”€â”€ ğŸ“„ get_history.py     # ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ğ¸
    â”‚
    â”œâ”€â”€ ğŸ“ profile/               # Ğ¡ĞµÑ€Ğ²Ğ¸ÑÑ‹ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ĞµĞ¹
    â”‚   â”œâ”€â”€ ğŸ“„ __init__.py
    â”‚   â”œâ”€â”€ ğŸ“„ get_all.py         # Ğ’ÑĞµ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ğ¸
    â”‚   â””â”€â”€ ğŸ“„ get_by_id.py       # ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ Ğ¿Ğ¾ ID
    â”‚
    â”œâ”€â”€ ğŸ“ user/                   # Ğ¡ĞµÑ€Ğ²Ğ¸ÑÑ‹ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹
    â”‚   â”œâ”€â”€ ğŸ“„ __init__.py
    â”‚   â”œâ”€â”€ ğŸ“„ authenticate.py     # ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
    â”‚   â””â”€â”€ ğŸ“„ register.py         # Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ
    â”‚
    â””â”€â”€ ğŸ“ ai/                     # AI ÑĞµÑ€Ğ²Ğ¸ÑÑ‹
        â”œâ”€â”€ ğŸ“„ __init__.py
        â”œâ”€â”€ ğŸ“„ call_deepseek.py    # Ğ’Ñ‹Ğ·Ğ¾Ğ² DeepSeek API
        â””â”€â”€ ğŸ“„ build_prompt.py     # ĞŸĞ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚Ğ°

## ğŸ¯ ĞšĞĞš Ğ˜Ğ¡ĞŸĞĞ›Ğ¬Ğ—ĞĞ’ĞĞ¢Ğ¬

### Ğ˜Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ Ñ‡ĞµÑ€ĞµĞ· Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ __init__:
from services import (
    get_user_chats, create_chat, send_message,
    get_all_profiles, authenticate_user
)

### Ğ˜Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ³Ğ¾ ÑĞµÑ€Ğ²Ğ¸ÑĞ°:
from services.chat.create import create_chat
from services.message.send import send_message
from services.profile.get_all import get_all_profiles_for_api

## ğŸ“¦ ĞĞŸĞ˜Ğ¡ĞĞĞ˜Ğ• Ğ¡Ğ•Ğ Ğ’Ğ˜Ğ¡ĞĞ’

### Chat
| Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|---------|----------|
| get_user_chats(user_id) | Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ñ‡Ğ°Ñ‚Ğ¾Ğ² Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ |
| create_chat(user_id, title, bot_profile_id) | Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ñ‡Ğ°Ñ‚Ğ° |
| rename_chat(user_id, chat_id, new_title) | ĞŸĞµÑ€ĞµĞ¸Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ |
| delete_chat(user_id, chat_id) | Ğ£Ğ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ |
| load_chat(user_id, chat_id) | Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ñ‡Ğ°Ñ‚Ğ° Ñ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸ĞµĞ¹ |
| validate_chat_owner(user_id, chat_id) | ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ²Ğ»Ğ°Ğ´ĞµĞ»ÑŒÑ†Ğ° |

### Message
| Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|---------|----------|
| send_message(user_id, chat_id, message) | ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° + AI Ğ¾Ñ‚Ğ²ĞµÑ‚ |
| get_chat_history(user_id, chat_id) | Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹ |

### Profile
| Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|---------|----------|
| get_all_profiles() | Ğ’ÑĞµ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ğ¸ (Ğ±ĞµĞ· Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°) |
| get_all_profiles_for_api() | Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ²ĞºĞ»ÑÑ‡Ñ‘Ğ½Ğ½Ñ‹Ğµ, Ğ´Ğ»Ñ API |
| get_profile_by_id(profile_id) | ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ Ğ¿Ğ¾ ÑÑ‚Ñ€Ğ¾ĞºĞ¾Ğ²Ğ¾Ğ¼Ñƒ ID |
| get_profile_with_prompt(profile_id) | ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ + Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚ + Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° |

### User
| Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|---------|----------|
| authenticate_user(username, password) | ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ»Ğ¾Ğ³Ğ¸Ğ½Ğ°/Ğ¿Ğ°Ñ€Ğ¾Ğ»Ñ |
| register_user(username, password) | Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ |

### AI
| Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|---------|----------|
| call_deepseek(history, message, system_prompt) | Ğ’Ñ‹Ğ·Ğ¾Ğ² DeepSeek API |
| build_system_prompt(profile_id) | Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚Ğ° Ñ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°Ğ¼Ğ¸ |

## âœ… ĞŸĞ Ğ˜ĞœĞ•Ğ Ğ«

### Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ñ‡Ğ°Ñ‚Ğ° Ğ¸ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ:
user_id = 1
chat_id = create_chat(user_id, "ĞœĞ¾Ğ¹ Ñ‡Ğ°Ñ‚", "will")
result = send_message(user_id, chat_id, "ĞŸÑ€Ğ¸Ğ²ĞµÑ‚, ĞºĞ°Ğº Ğ´ĞµĞ»Ğ°?")
print(result['reply'])

### ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ÑĞ¿Ğ¸ÑĞºĞ° Ñ‡Ğ°Ñ‚Ğ¾Ğ²:
chats = get_user_chats(user_id)
for chat in chats:
    print(f"{chat['avatar']} {chat['title']} - {chat['date']}")

### ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ:
user = authenticate_user("username", "password")
if user:
    session['user_id'] = user['id']

## ğŸ“¦ Ğ—ĞĞ’Ğ˜Ğ¡Ğ˜ĞœĞĞ¡Ğ¢Ğ˜
- models/ â€” Ğ´Ğ»Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ñ Ğ‘Ğ”
- utils/ â€” Ğ´Ğ»Ñ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ¸ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
- config/ â€” Ğ´Ğ»Ñ API ĞºĞ»ÑÑ‡ĞµĞ¹

## ğŸ‘¨â€ğŸ’» ĞĞ’Ğ¢ĞĞ 
Oliver Vance â€” Ğ¿Ñ€Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¸ ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ² Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ!

## ğŸ“ Ğ˜Ğ¡Ğ¢ĞĞ Ğ˜Ğ¯ Ğ˜Ğ—ĞœĞ•ĞĞ•ĞĞ˜Ğ™
2026-02-14 - Oliver Vance - Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸